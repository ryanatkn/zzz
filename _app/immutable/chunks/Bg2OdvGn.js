import"./DsnmJJEf.js";import{p as j,f,x as r,L as m,d as q,r as B,b as c,c as D,z as n,e as v,a as b}from"./-CpFIzHZ.js";import{a as E}from"./DzZ7Rzvg.js";import{i as y}from"./DH5XRg4H.js";import{t as p,a as F,s as G}from"./D7AV01aJ.js";import{a as H,C as I}from"./trDA34-_.js";import{p as g,r as J}from"./Rk-Dv8br.js";var K=f("<div>✓</div>"),M=f("<div>⧉</div>"),N=f("<button><!></button>");function X(h,t){j(t,!0);const x=g(t,"copied_display_duration",3,1e3),C=g(t,"icon_button",3,!0),w=J(t,["$$slots","$$events","$$legacy","text","copied_display_duration","allow_copying_empty_string","icon_button","oncopy","disabled","children","class"]);let e=m(!1),l=m(!1),u;const T=async a=>{if(clearTimeout(u),t.text!==null){n(e,!1),n(l,!1);try{await navigator.clipboard.writeText(t.text),n(e,!0)}catch{n(l,!0);return}u=setTimeout(()=>{n(e,!1)},x()),t.oncopy?.(t.text,a)}};var d=N();H(d,()=>({type:"button",title:"copy to clipboard",...w,class:`copy_to_clipboard ${t.class??""}`,onclick:T,disabled:t.disabled??(t.allow_copying_empty_string?t.text===null:!t.text),[I]:{icon_button:t.children?!1:C(),copied:r(e),failed:r(l),color_c:r(l)}}));var k=q(d);{var L=a=>{var i=v(),_=b(i);E(_,()=>t.children,()=>r(e),()=>r(l)),c(a,i)},S=a=>{var i=v(),_=b(i);{var z=o=>{var s=K();p(1,s,()=>F,()=>({duration:200})),c(o,s)},A=o=>{var s=M();p(1,s,()=>G),c(o,s)};y(_,o=>{r(e)?o(z):o(A,!1)},!0)}c(a,i)};y(k,a=>{t.children?a(L):a(S,!1)})}B(d),c(h,d),D()}export{X as C};
