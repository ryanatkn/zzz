import"./DsnmJJEf.js";import{p as Oe,f as s,a as x,s as t,d as a,r as o,b as _,e as T,n as R,t as g,c as Ee,m as Ge}from"./DsYFF3e0.js";import{d as He,a as Ye,s as u}from"./D6t6EFf3.js";import{i as c}from"./Nwe5dM3j.js";import{h as Y,i as Ce,l as oe,m as Me,n as Ae,o as Ne,p as te,s as Re}from"./dRtQjgBD.js";import{P as je}from"./4X2iJCGk.js";import{D as le}from"./oM8O-Qux.js";import{C as Se}from"./ZErG5RAz.js";import{M as Te}from"./CEnclk0t.js";import{M as qe}from"./B4cFFwNA.js";import{f as Fe}from"./z7712QSE.js";import{f as We}from"./DM4ztRtC.js";var Be=(O,e)=>e.onclose(e.model),Ie=s('<button type="button" class="icon_button plain" title="close"><!></button>'),Je=s('<header class="display_flex justify_content_space_between mb_md"><div class="display_flex flex_direction_column gap_xs"><h3 class="mt_0 mb_0 font_family_mono"><!></h3></div> <!></header>'),Ke=(O,e)=>e.model.app.chats.add(void 0,!0).add_thread(e.model),Qe=(O,e)=>e.onshow(e.model),Ue=(O,e)=>e.model.app.ollama.unload(e.model.name),Ve=(O,e,q)=>{e.ondelete(e.model),q().hide()},Xe=s('<button type="button" class="color_c icon_button" title="confirm delete"><!></button>'),Ze=s("<!>&nbsp; delete model",1),$e=s('<button type="button" class="plain"><!>&nbsp; create a new chat</button> <button type="button" class="plain" title="load model details"><!>&nbsp; reload details</button> <button type="button" class="plain" title="unload model from memory"><!>&nbsp; unload</button> <!>',1),ea=(O,e)=>e.model.navigate_to_download(),aa=s('<button type="button" class="color_a" title="download this model"><!>&nbsp; download model</button>'),oa=s('<section class="panel p_md"><p class="color_d font_size_sm mt_0 mb_0">not downloaded</p></section>'),ta=s('<section class="display_flex gap_sm align_items_center"><!> <span class="font_size_sm">loading model details...</span></section>'),la=(O,e)=>e.onshow(e.model),_a=s('<section class="display_flex flex_direction_column gap_sm"><div class="color_c font_size_sm"> </div> <button type="button" class="color_c icon_button plain" title="retry loading details"><!></button></section>'),ra=s('<h5 class="my_0">filesize:</h5> <span class="font_family_mono"> </span>',1),sa=s('<h5 class="my_0">modified:</h5> <span class="font_family_mono"> </span>',1),na=s('<h5 class="my_0">parent:</h5> <span class="font_family_mono"> </span>',1),da=s('<div class="display_grid gap_sm"><h5 class="my_0">capabilities:</h5> <span class="font_family_mono"> </span> <h5 class="my_0">parameters:</h5> <span class="font_family_mono"> </span> <!> <!> <h5 class="my_0">family:</h5> <span class="font_family_mono"> </span> <h5 class="my_0">quantization:</h5> <span class="font_family_mono"> </span> <h5 class="my_0">format:</h5> <span class="font_family_mono"> </span> <!></div>'),ma=s("<div><h5>model info:</h5> <pre><code> </code></pre></div>"),ia=s("<div><h5>template:</h5> <pre><code> </code></pre></div>"),va=s("<div><h5>parameters:</h5> <pre><code> </code></pre></div>"),ca=s("<div><h5>system:</h5> <pre><code> </code></pre></div>"),fa=s('<h5 class="display_inline">license:</h5>'),ua=s("<pre><code> </code></pre>"),ha=s('<h5 class="display_inline">modelfile:</h5>'),ya=s("<pre><code> </code></pre>"),pa=s('<section class="display_flex flex_direction_column gap_md"><!> <!> <!> <!> <!> <!> <!></section>'),ga=s('<!> <section class="display_flex gap_sm mb_xl3"><!></section> <!>',1);function Ca(O,e){Oe(e,!0),Te(O,{get model(){return e.model},children:(q,ba)=>{var K=ga(),Q=x(K);{var _e=d=>{var m=T(),h=x(m);Ye(h,()=>e.header),_(d,m)},re=d=>{var m=Je(),h=a(m),M=a(h),k=a(M);qe(k,{get model(){return e.model},icon:!0}),o(M),o(h);var b=t(h,2);{var y=P=>{var E=Ie();E.__click=[Be,e];var j=a(E);Y(j,{get glyph(){return Ne}}),o(E),_(P,E)};c(b,P=>{e.onclose&&P(y)})}o(m),_(d,m)};c(Q,d=>{e.header?d(_e):d(re,!1)})}var F=t(Q,2),se=a(F);{var ne=d=>{var m=$e(),h=x(m);h.__click=[Ke,e];var M=a(h);Y(M,{get glyph(){return Ce}}),R(),o(h);var k=t(h,2);k.__click=[Qe,e];var b=a(k);Y(b,{get glyph(){return oe}}),R(),o(k);var y=t(k,2);y.__click=[Ue,e];var P=a(y);Y(P,{get glyph(){return Me}}),R(),o(y);var E=t(y,2);{var j=w=>{Se(w,{onconfirm:()=>e.ondelete(e.model),position:"right",class:"plain color_c",get title(){return`delete ${e.model.name??""}`},popover_content:(L,A=Ge)=>{var f=Xe();f.__click=[Ve,e,A];var z=a(f);Y(z,{get glyph(){return te}}),o(f),_(L,f)},children:(L,A)=>{var f=Ze(),z=x(f);Y(z,{get glyph(){return te}}),R(),_(L,f)},$$slots:{popover_content:!0,default:!0}})};c(E,w=>{e.ondelete&&w(j)})}g(()=>{k.disabled=e.model.needs_ollama_details||!e.model.ollama_show_response_loaded||e.model.ollama_show_response_loading,y.disabled=!e.model.loaded}),_(d,m)},de=d=>{var m=aa();m.__click=[ea,e];var h=a(m);Y(h,{get glyph(){return Ae}}),R(),o(m),_(d,m)};c(se,d=>{e.model.downloaded?d(ne):d(de,!1)})}o(F);var me=t(F,2);{var ie=d=>{var m=oa();_(d,m)},ve=d=>{var m=T(),h=x(m);{var M=b=>{var y=ta(),P=a(y);je(P,{}),R(2),o(y),_(b,y)},k=b=>{var y=T(),P=x(y);{var E=w=>{var C=_a(),L=a(C),A=a(L);o(L);var f=t(L,2);f.__click=[la,e];var z=a(f);Y(z,{get glyph(){return oe}}),o(f),o(C),g(()=>u(A,`failed to load details: ${e.model.ollama_show_response_error??""}`)),_(w,C)},j=w=>{var C=T(),L=x(C);{var A=f=>{var z=pa(),U=a(z);{var ce=l=>{var n=da();Re(n,"",{},{"grid-template-columns":"auto 1fr"});var r=t(a(n),2),i=a(r,!0);o(r);var v=t(r,4),D=a(v,!0);o(v);var N=t(v,2);{var we=p=>{var G=ra(),H=t(x(G),2),S=a(H,!0);o(H),g(J=>u(S,J),[()=>We(e.model.filesize)]),_(p,G)};c(N,p=>{e.model.filesize&&p(we)})}var ae=t(N,2);{var xe=p=>{var G=sa(),H=t(x(G),2),S=a(H,!0);o(H),g(J=>u(S,J),[()=>Fe(e.model.ollama_modified_at)]),_(p,G)};c(ae,p=>{e.model.ollama_modified_at&&p(xe)})}var W=t(ae,4),ke=a(W,!0);o(W);var B=t(W,4),Pe=a(B,!0);o(B);var I=t(B,4),Le=a(I,!0);o(I);var ze=t(I,2);{var De=p=>{var G=na(),H=t(x(G),2),S=a(H,!0);o(H),g(()=>u(S,e.model.ollama_show_response.details.parent_model)),_(p,G)};c(ze,p=>{e.model.ollama_show_response.details.parent_model&&p(De)})}o(n),g(p=>{u(i,p),u(D,e.model.ollama_show_response.details.parameter_size),u(ke,e.model.ollama_show_response.details.family),u(Pe,e.model.ollama_show_response.details.quantization_level),u(Le,e.model.ollama_show_response.details.format)},[()=>e.model.ollama_show_response.capabilities?.join(", ")||"none"]),_(l,n)};c(U,l=>{e.model.ollama_show_response.details&&l(ce)})}var V=t(U,2);{var fe=l=>{var n=ma(),r=t(a(n),2),i=a(r),v=a(i,!0);o(i),o(r),o(n),g(D=>u(v,D),[()=>JSON.stringify(e.model.ollama_show_response.model_info,null,"	")]),_(l,n)};c(V,l=>{e.model.ollama_show_response.model_info&&Object.keys(e.model.ollama_show_response.model_info).length>0&&l(fe)})}var X=t(V,2);{var ue=l=>{var n=ia(),r=t(a(n),2),i=a(r),v=a(i,!0);o(i),o(r),o(n),g(()=>u(v,e.model.ollama_show_response.template)),_(l,n)};c(X,l=>{e.model.ollama_show_response.template&&l(ue)})}var Z=t(X,2);{var he=l=>{var n=va(),r=t(a(n),2),i=a(r),v=a(i,!0);o(i),o(r),o(n),g(()=>u(v,e.model.ollama_show_response.parameters)),_(l,n)};c(Z,l=>{e.model.ollama_show_response.parameters&&l(he)})}var $=t(Z,2);{var ye=l=>{var n=ca(),r=t(a(n),2),i=a(r),v=a(i,!0);o(i),o(r),o(n),g(()=>u(v,e.model.ollama_show_response.system)),_(l,n)};c($,l=>{e.model.ollama_show_response.system&&l(ye)})}var ee=t($,2);{var pe=l=>{le(l,{attrs:{class:"mt_xl3"},summary:r=>{var i=fa();_(r,i)},children:(r,i)=>{var v=ua(),D=a(v),N=a(D,!0);o(D),o(v),g(()=>u(N,e.model.ollama_show_response.license)),_(r,v)},$$slots:{summary:!0,default:!0}})};c(ee,l=>{e.model.ollama_show_response.license&&l(pe)})}var ge=t(ee,2);{var be=l=>{le(l,{attrs:{class:"mt_xl3"},summary:r=>{var i=ha();_(r,i)},children:(r,i)=>{var v=ya(),D=a(v),N=a(D,!0);o(D),o(v),g(()=>u(N,e.model.ollama_show_response.modelfile)),_(r,v)},$$slots:{summary:!0,default:!0}})};c(ge,l=>{e.model.ollama_show_response.modelfile&&l(be)})}o(z),_(f,z)};c(L,f=>{e.model.ollama_show_response&&f(A)},!0)}_(w,C)};c(P,w=>{e.model.ollama_show_response_error?w(E):w(j,!1)},!0)}_(b,y)};c(h,b=>{e.model.ollama_show_response_loading?b(M):b(k,!1)},!0)}_(d,m)};c(me,d=>{e.model.downloaded?d(ve,!1):d(ie)})}_(q,K)},$$slots:{default:!0}}),Ee()}He(["click"]);export{Ca as O};
