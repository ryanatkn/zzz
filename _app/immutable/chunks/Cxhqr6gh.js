import"./DsnmJJEf.js";import{p as j,f as u,i as r,k as v,d as q,r as z,b as n,c as B,l as c,e as m,a as b}from"./DsYFF3e0.js";import{a as D}from"./D6t6EFf3.js";import{p as y,i as h}from"./Nwe5dM3j.js";import{k as E,C as F}from"./dRtQjgBD.js";import{t as x,a as G,s as H}from"./R2QwTmpq.js";var I=u("<div>✓</div>"),J=u("<div>⧉</div>"),K=u("<button><!></button>");function U(g,t){j(t,!0);const p=y(t,"copied_display_duration",3,1e3),C=y(t,"icon_button",3,!0);let e=v(!1),l=v(!1),_;const k=async a=>{if(clearTimeout(_),t.text!==null){c(e,!1),c(l,!1);try{await navigator.clipboard.writeText(t.text),c(e,!0)}catch{c(l,!0);return}_=setTimeout(()=>{c(e,!1)},p()),t.oncopy?.(t.text,a)}};var d=K();E(d,a=>({type:"button",title:"copy to clipboard",...t.attrs,class:t.attrs?.class,onclick:k,disabled:t.attrs?.disabled??(t.allow_copying_empty_string?t.text===null:!t.text),[F]:a}),[()=>({icon_button:t.children?!1:C(),copied:r(e),failed:r(l),color_c:r(l)})]);var T=q(d);{var w=a=>{var i=m(),f=b(i);D(f,()=>t.children,()=>r(e),()=>r(l)),n(a,i)},S=a=>{var i=m(),f=b(i);{var A=o=>{var s=I();x(1,s,()=>G,()=>({duration:200})),n(o,s)},L=o=>{var s=J();x(1,s,()=>H),n(o,s)};h(f,o=>{r(e)?o(A):o(L,!1)},!0)}n(a,i)};h(T,a=>{t.children?a(w):a(S,!1)})}z(d),n(g,d),B()}export{U as C};
