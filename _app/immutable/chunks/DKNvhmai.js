import"./DsnmJJEf.js";import{p as U,x as a,I as V,f as X,d as i,y as c,r as o,s as Y,t as h,b as l,c as Z,h as L,e as x,a as b,z as $}from"./vp8LXHGR.js";import{e as ee,s as P,a as W,d as te}from"./9dtTqLgI.js";import{p as q,i as g}from"./DBFmjg--.js";import{c as ae,s as y}from"./CQG0N3Nc.js";import{b as se}from"./CMd_zdKF.js";import{g as k}from"./C8wFsrNC.js";import{s as ne}from"./V2q5a4YM.js";import{p as re}from"./Bz2mEZ80.js";import{c as ie}from"./C2lUYeat.js";var oe=X('<li role="none" class="svelte-8j840"><a role="menuitem" tabindex="-1"><div class="content"><div class="icon"><!></div> <div class="title"><span class="text svelte-8j840"><!></span></div></div></a></li>');function xe(A,s){U(s,!0);const B=q(s,"disabled",3,!1),D=q(s,"external_rel",3,"noreferrer"),v=ie.get();let d=V(void 0);const j=v.add_entry(()=>()=>{a(d)&&a(d).click()},()=>B()),m=c(()=>j.disabled()),F=(e,t=location.host)=>{const r=k(k(e,"https://"),"http://");return r.startsWith(t+"/")?k(r,t):r},f=c(()=>F(s.href)),G=c(()=>!(a(f)[0]==="."||a(f)[0]==="/"&&a(f)[1]!=="/")),H=c(()=>a(G)?D():void 0),J=c(()=>re.url.pathname===s.href);var _=oe(),n=i(_);let w;n.__click=function(...e){(a(m)?void 0:()=>v.close())?.apply(this,e)},n.__contextmenu=e=>{e.stopPropagation()};var C=i(n),u=i(C),K=i(u);{var M=e=>{var t=L();h(()=>P(t,s.icon)),l(e,t)},N=e=>{var t=x(),r=b(t);{var S=p=>{var I=x(),T=b(I);W(T,()=>s.icon),l(p,I)};g(r,p=>{s.icon&&p(S)},!0)}l(e,t)};g(K,e=>{typeof s.icon=="string"?e(M):e(N,!1)})}o(u);var z=Y(u,2),E=i(z),O=i(E);{var Q=e=>{var t=x(),r=b(t);W(r,()=>s.children),l(e,t)},R=e=>{var t=L();h(()=>P(t,a(f))),l(e,t)};g(O,e=>{s.children?e(Q):e(R,!1)})}o(E),o(z),o(C),o(n),se(n,e=>$(d,e),()=>a(d)),o(_),h(()=>{w=ae(n,1,"menu_item plain svelte-8j840",null,w,{selected:a(J),disabled:a(m)}),y(n,"aria-disabled",a(m)),y(n,"href",s.href),y(n,"rel",a(H))}),ee("mouseenter",n,function(...e){(a(m)?void 0:t=>{ne(t),v.select(j)})?.apply(this,e)}),l(A,_),Z()}te(["click","contextmenu"]);export{xe as C};
