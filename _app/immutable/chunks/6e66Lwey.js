import"./DsnmJJEf.js";import{p as N,f as n,a as G,d as v,s as d,r as _,t as Y,b as r,c as V,m as B,i as j,j as T,e as te,l as K,k as ae,n as re,h as se}from"./DsYFF3e0.js";import{t as ne,s as oe}from"./R2QwTmpq.js";import{s as E,d as de,a as ie}from"./D6t6EFf3.js";import{i as A,p as X,s as le,r as _e}from"./Nwe5dM3j.js";import{r as ce}from"./Bf1n2LBq.js";import{N as ue}from"./Dfmkzfjf.js";import{C as me,a as ve,b as Q}from"./BROXFBhU.js";import{C as M}from"./BJgKlJ1j.js";import{f as J}from"./yYxB9JYd.js";import{j as pe,h as L,G as F,i as he,H as fe,p as ge,E as U}from"./dRtQjgBD.js";import{P as we}from"./CXlWajDu.js";import{M as ye,a as xe}from"./CoUjB68E.js";import{a as D,S as be,s as W}from"./DQ5nx7sw.js";var Pe=n("<span> </span>"),$e=n('<small class="chip font_weight_400"> </small>'),ke=n('<ul class="unstyled display_flex flex_wrap_wrap gap_xs2"></ul>'),Ce=n('<div class="font_size_md row"><!> <div class="pl_sm"><div> </div> <small class="row justify_content_space_between"><span> </span><!></small></div></div> <!>',1);function Le($,e){N(e,!0),ye($,{attrs:{class:"width_100 py_sm"},get model(){return e.model},children:(g,t)=>{var w=Ce(),c=G(w),y=v(c);xe(y,{get name(){return e.model.provider_name},size:"var(--font_size_xl)"});var i=d(y,2),o=v(i),u=v(o,!0);_(o);var s=d(o,2),x=v(s),H=v(x,!0);_(x);var m=d(x);{var b=p=>{var k=Pe(),z=v(k,!0);_(k),Y(()=>E(z,e.model.context_window_formatted)),r(p,k)};A(m,p=>{e.model.context_window_formatted&&p(b)})}_(s),_(i),_(c);var l=d(c,2);{var C=p=>{var k=ke();pe(k,20,()=>e.model.tags,z=>z,(z,I)=>{var S=$e(),O=v(S,!0);_(S),Y(()=>E(O,I)),r(z,S)}),_(k),r(p,k)};A(l,p=>{e.show_tags&&e.model.tags.length&&p(C)})}Y(()=>{E(u,e.model.name),E(H,e.model.provider_name)}),r(g,w)},$$slots:{default:!0}}),V()}var ze=($,e,g)=>e()(g()),Ee=n('<!> <button type="button" class="listitem compact width_100"><!></button>',1);function Ge($,e){N(e,!0);const g=J.get(),{models:t}=g;let w=X(e,"show",15,!1);{const c=(i,o=B,u=B)=>{var s=Ee(),x=G(s);{var H=l=>{var C=te(),p=G(C);ie(p,()=>e.children),r(l,C)};A(x,l=>{e.children&&l(H)})}var m=d(x,2);m.__click=[ze,u,o];var b=v(m);Le(b,{get model(){return o()}}),_(m),r(i,s)};let y=T(()=>[D("name_asc","name (a-z)","name"),D("name_desc","name (z-a)","name","desc"),D("provider_asc","provider (a-z)","provider_name"),D("provider_desc","provider (z-a)","provider_name","desc")]);we($,{get items(){return t.ordered_by_name},get onpick(){return e.onpick},get filter(){return e.filter},get dialog_props(){return e.dialog_props},get sorters(){return j(y)},sort_key_default:"name_asc",show_sort_controls:!0,heading:"Pick a model",get show(){return w()},set show(i){w(i)},children:c,$$slots:{default:!0}})}V()}de(["click"]);var He=n("<span>add thread</span>"),Me=n("<span> </span>"),De=n("<span>remove all threads</span>"),Ye=n("<span>clear input</span>"),je=n("<!> <!>",1),Ae=n("<span>duplicate chat</span>"),Se=n("<span>delete chat</span>"),Te=n("<!> <!> <!> <!> <!>  <!> <!>",1),Ne=n("<!> <!>",1);function Ve($,e){N(e,!0);const g=s=>{ve(s,{icon:m=>{L(m,{get glyph(){return F}})},menu:m=>{var b=Te(),l=G(b);M(l,{run:()=>K(y,!0),icon:a=>{L(a,{get glyph(){return he}})},children:(a,h)=>{var f=He();r(a,f)},$$slots:{icon:!0,default:!0}});var C=d(l,2);M(C,{run:()=>{t().view_mode=t().view_mode==="simple"?"multi":"simple"},icon:a=>{L(a,{get glyph(){return fe}})},children:(a,h)=>{var f=Me(),R=v(f);_(f),Y(()=>E(R,`${t().view_mode==="simple"?"multi":"simple"} view`)),r(a,f)},$$slots:{icon:!0,default:!0}});var p=d(C,2);Q(p,{get content(){return t().id},label:"copy id"});var k=d(p,2);{var z=P=>{M(P,{run:()=>t().remove_all_threads(),icon:h=>{L(h,{get glyph(){return U}})},children:(h,f)=>{var R=De();r(h,R)},$$slots:{icon:!0,default:!0}})};A(k,P=>{t().threads.length&&P(z)})}var I=d(k,2);{var S=P=>{var a=je(),h=G(a);Q(h,{get content(){return t().main_input},label:"copy input",preview_limit:30});var f=d(h,2);M(f,{run:()=>{t().main_input=""},icon:q=>{L(q,{get glyph(){return U}})},children:(q,qe)=>{var ee=Ye();r(q,ee)},$$slots:{icon:!0,default:!0}}),r(P,a)};A(I,P=>{t().main_input&&P(S)})}var O=d(I,2);M(O,{run:async()=>{const a=c.chats.add_chat(t().clone());for(const h of t().threads)a.add_thread(h.model);await c.chats.navigate_to(a.id)},icon:a=>{L(a,{get glyph(){return F}})},children:(a,h)=>{var f=Ae();r(a,f)},$$slots:{icon:!0,default:!0}});var Z=d(O,2);M(Z,{run:()=>{confirm(`Are you sure you want to delete the chat "${t().name}"?`)&&c.chats.remove(t().id)},icon:a=>{L(a,{get glyph(){return ge}})},children:(a,h)=>{var f=Se();r(a,f)},$$slots:{icon:!0,default:!0}}),r(m,b)},children:(m,b)=>{re();var l=se("chat");r(m,l)},$$slots:{icon:!0,menu:!0,default:!0}})},t=X(e,"chat",7),w=_e(e,["$$slots","$$events","$$legacy","chat"]),c=J.get();let y=ae(!1);var i=Ne(),o=G(i);me(o,le(()=>w,{get entries(){return g}}));var u=d(o,2);Ge(u,{onpick:s=>{s&&t().add_thread(s)},get show(){return j(y)},set show(s){K(y,s,!0)}}),r($,i),V()}var Ie=n("<small> </small>"),Oe=n('<div class="ellipsis"><!>&nbsp; <span> </span></div> <!>',1);function Re($,e){N(e,!0),Ve($,{get chat(){return e.chat},children:(g,t)=>{{let w=T(()=>ce(`/chats/${e.chat.id}`));ue(g,{get href(){return j(w)},get selected(){return e.selected},class:"justify_content_space_between",style:"min-height: 0;",children:(c,y)=>{var i=Oe(),o=G(i),u=v(o);L(u,{get glyph(){return F}});var s=d(u,2),x=v(s,!0);_(s),_(o);var H=d(o,2);{var m=b=>{var l=Ie(),C=v(l,!0);_(l),Y(()=>E(C,e.chat.threads.length)),r(b,l)};A(H,b=>{e.chat.threads.length&&b(m)})}Y(()=>E(x,e.chat.name)),r(c,i)},$$slots:{default:!0}})}},$$slots:{default:!0}}),V()}var We=n("<div><!></div>");function ot($,e){N(e,!0);const g=J.get(),{chats:t}=g,w=T(()=>t.selected_id);{const c=(i,o=B)=>{var u=We(),s=v(u);{let x=T(()=>o().id===j(w));Re(s,{get chat(){return o()},get selected(){return j(x)}})}_(u),ne(3,u,()=>oe),r(i,u)};let y=T(()=>[W("updated_newest","updated (latest)","updated","desc"),W("updated_oldest","updated (past)","updated","asc"),W("created_newest","created (newest)","created","desc"),W("created_oldest","created (oldest)","created","asc"),D("name_asc","name (a-z)","name"),D("name_desc","name (z-a)","name","desc")]);be($,{get items(){return t.ordered_items},get show_sort_controls(){return t.show_sort_controls},get sorters(){return j(y)},sort_key_default:"updated_newest",children:c,$$slots:{default:!0}})}V()}export{ot as C,Ge as M,Le as a,Ve as b};
