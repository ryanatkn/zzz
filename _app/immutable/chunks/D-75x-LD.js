import"./DsnmJJEf.js";import{p as N,u as R,i as e,k as f,l,f as q,d as g,r as p,t as A,b as O,c as S,ah as H,s as J,e as K,a as M}from"./DsYFF3e0.js";import{c as Q,a as B,e as U,d as V}from"./D6t6EFf3.js";import{p as x,i as W}from"./Nwe5dM3j.js";import{q as X,t as Y,s as Z}from"./dRtQjgBD.js";import{b as D}from"./BwYh6stK.js";import{s as $,i as ee}from"./BlUH4YWX.js";import{w as te}from"./ChYHAxKB.js";var ae=q('<div class="teleport svelte-lzvxo0"><!></div>');function oe(v,t){N(t,!0);let i=f(void 0);R(()=>{e(i)&&t.to&&d(e(i),t.to)});let u=f(!1);const d=(c,s)=>{l(u,!0),s.appendChild(c),t.onmove?.(c,s)};Q(()=>{e(i)?.parentNode?.removeChild(e(i))});var r=ae(),w=g(r);B(w,()=>t.children),p(r),D(r,c=>l(i,c),()=>e(i)),A(()=>X(r,"hidden",!e(u))),O(v,r),S()}var ie=(v,t,i,u)=>{const d=v.target;e(t)&&(e(t)===d||!e(t).contains(d)||i()&&!d.closest(i()))&&u(v)},se=q('<div role="dialog" aria-modal="true" tabindex="-1"><div class="dialog_layout svelte-9uwxz7"><div class="dialog_wrapper svelte-9uwxz7" role="none"><div class="dialog_bg svelte-9uwxz7" aria-hidden="true"></div> <div class="dialog_content svelte-9uwxz7"><!></div></div></div></div>');function fe(v,t){N(t,!0);const i=x(t,"layout",3,"centered"),u=x(t,"index",3,0),d=x(t,"active",3,!0),r=x(t,"content_selector",3,".pane"),w="body",c="fuz_dialog";let s=f(void 0);R(()=>{L(t.container)});const L=a=>{if(a)l(s,a,!0);else{const m=document.getElementById(c);if(m)l(s,m,!0);else{const o=document.querySelector(w);if(!o)throw Error(`Cannot find dialog root element with selector '${w}'`);l(s,document.createElement("div"),!0),e(s).id=c,e(s).style.display="contents",o.appendChild(e(s))}}};let y=f(void 0),b=f(void 0);const E=a=>{a&&$(a),t.onclose?.()},P=a=>{if(a.key==="Escape"&&!ee(a.target)){const m=e(y)?.parentElement,o=m?.parentElement?.children,_=Array.prototype.indexOf.call(o,m);(!o||_===o.length-1||_===-1)&&E(a)}};let z=f(!1);U("keydown",H,function(...a){(d()?P:void 0)?.apply(this,a)}),oe(v,{get to(){return e(s)},onmove:async()=>{await te(),l(z,!0),e(y)?.focus()},children:(a,m)=>{var o=se();let _,T;var I=g(o),C=g(I);C.__mousedown=[ie,b,r,E];var k=J(g(C),2),j=g(k);{var F=n=>{var h=K(),G=M(h);B(G,()=>t.children,()=>E),O(n,h)};W(j,n=>{e(z)&&n(F)})}p(k),D(k,n=>l(b,n),()=>e(b)),p(C),p(I),p(o),D(o,n=>l(y,n),()=>e(y)),A((n,h)=>{_=Y(o,1,"dialog svelte-9uwxz7",null,_,n),T=Z(o,"",T,h)},[()=>({ready:e(z),layout_page:i()==="page"}),()=>({"z-index":100+u()})]),O(a,o)},$$slots:{default:!0}}),S()}V(["mousedown"]);export{fe as D};
