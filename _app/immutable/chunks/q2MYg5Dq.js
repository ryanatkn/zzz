import"./DsnmJJEf.js";import{p as K,e as L,a as k,b as u,c as N,u as te,x as a,I as A,z as g,f as B,d as m,r as v,s as D,n as ae,t as z,$ as se,y as Z}from"./vp8LXHGR.js";import{a as T,e as ne,s as V}from"./pja_h9dl.js";import{e as oe}from"./20o5Rm-2.js";import{f as re,a as ie,S as le,b as W,c as ce,s as de}from"./Bs1WACQy.js";import{p as F,r as $,i as J,s as me}from"./Dl5udER_.js";import{a as ve,c as ue,b as X}from"./Bo6tdu1o.js";import{b as _e}from"./CMd_zdKF.js";import{s as fe}from"./V2q5a4YM.js";import{C as he}from"./BMaQeBpq.js";import{i as pe,y as xe}from"./CtEBPyZ8.js";import{t as be}from"./ufwOubO-.js";function Ie(w,e){K(e,!0);const _=F(e,"tag",3,"span"),f=$(e,["$$slots","$$events","$$legacy","tag","entries","children"]);var h=L(),i=k(h);oe(i,_,!1,(s,E)=>{re(s,()=>ve(e.entries)),ie(s,()=>({...f,[le]:{display:"contents"}}));var n=L(),t=k(n);T(t,()=>e.children),u(E,n)}),u(w,h),N()}var ge=B('<menu class="pane unstyled svelte-uqelcf"><!></menu>'),we=B('<li role="none" class="svelte-uqelcf"><div role="menuitem" aria-label="contextmenu submenmu" aria-haspopup="menu" tabindex="-1"><div class="content"><div class="icon"><!></div> <div class="title"><!></div></div> <div class="chevron svelte-uqelcf" aria-hidden="true"></div></div> <!></li>');function Me(w,e){K(e,!0);const _=ue.get(),f=_.add_submenu(),{layout:h}=_,i=Z(()=>f.selected);let s=A(void 0);const E=X.get(),n=X.set();let t=A(0),P=A(0);te(()=>{a(s)&&S(a(s),h,E)});const S=(p,d,b)=>{const{x:M,y:O,width:q,height:Q}=p.getBoundingClientRect();n.width=q,n.height=Q;const U=M-a(t),ee=O-a(P),R=U+q+b.width-d.width;if(R<=0)g(t,b.width,!0);else{const j=q-U;j<=0?g(t,-q):j>R?g(t,b.width-R):g(t,j-q)}g(P,Math.min(0,d.height-(ee+Q)),!0)};var x=we();let Y;var l=m(x);let o;var r=m(l),c=m(r),H=m(c);T(H,()=>e.icon??se),v(c);var G=D(c,2),y=m(G);T(y,()=>e.children),v(G),v(r),ae(2),v(l);var C=D(l,2);{var I=p=>{var d=ge();let b;var M=m(d);T(M,()=>e.menu),v(d),_e(d,O=>g(s,O),()=>a(s)),z(()=>b=W(d,"",b,{transform:`translate3d(${a(t)??""}px, ${a(P)??""}px, 0)`,"max-height":`${h.height??""}px`})),u(p,d)};J(C,p=>{a(i)&&p(I)})}v(x),z(()=>{Y=W(x,"",Y,{"--contextmenu_depth":f.depth}),o=ce(l,1,"menu_item plain selectable svelte-uqelcf",null,o,{selected:a(i)}),de(l,"aria-expanded",a(i))}),ne("mouseenter",l,p=>{fe(p),setTimeout(()=>_.select(f))}),u(w,x),N()}var ye=B('<small class="ml_xs"> </small>'),Ce=B("<span> <!></span>");function Oe(w,e){K(e,!0);const _=F(e,"label",3,"copy"),f=F(e,"show_preview",3,!0),h=$(e,["$$slots","$$events","$$legacy","content","label","preview","preview_limit","show_preview","children"]),i=()=>typeof e.content=="function"?e.content():e.content,s=Z(()=>f()?be(e.preview??i(),e.preview_limit):void 0);he(w,me({run:async()=>{const n=i();if(n)try{await navigator.clipboard.writeText(n)}catch(t){console.error("failed to copy text: ",t)}}},()=>h,{icon:t=>{pe(t,{get glyph(){return xe}})},children:(t,P)=>{var S=L(),x=k(S);{var Y=o=>{var r=L(),c=k(r);T(c,()=>e.children),u(o,r)},l=o=>{var r=Ce(),c=m(r),H=D(c);{var G=y=>{var C=ye(),I=m(C,!0);v(C),z(()=>V(I,a(s))),u(y,C)};J(H,y=>{a(s)&&y(G)})}v(r),z(()=>V(c,`${_()??""} `)),u(o,r)};J(x,o=>{e.children?o(Y):o(l,!1)})}u(t,S)},$$slots:{icon:!0,default:!0}})),N()}export{Ie as C,Me as a,Oe as b};
