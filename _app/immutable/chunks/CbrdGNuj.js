import"./DsnmJJEf.js";import{p as L,f,x as r,I as v,d as j,r as q,b as n,c as B,z as c,e as m,a as b}from"./vp8LXHGR.js";import{a as D}from"./pja_h9dl.js";import{p as y,r as E,i as p}from"./Dl5udER_.js";import{t as g,a as F,s as G}from"./-QCXjV-k.js";import{a as H,C as J}from"./Bs1WACQy.js";var K=f("<div>✓</div>"),M=f("<div>⧉</div>"),N=f("<button><!></button>");function W(h,t){L(t,!0);const x=y(t,"copied_display_duration",3,1e3),C=y(t,"icon_button",3,!0),w=E(t,["$$slots","$$events","$$legacy","text","copied_display_duration","allow_copying_empty_string","icon_button","oncopy","disabled","children"]);let e=v(!1),l=v(!1),u;const T=async a=>{if(clearTimeout(u),t.text!==null){c(e,!1),c(l,!1);try{await navigator.clipboard.writeText(t.text),c(e,!0)}catch{c(l,!0);return}u=setTimeout(()=>{c(e,!1)},x()),t.oncopy?.(t.text,a)}};var d=N();H(d,()=>({type:"button",title:"copy to clipboard",...w,class:`copy_to_clipboard ${t.class??""}`,onclick:T,disabled:t.disabled??(t.allow_copying_empty_string?t.text===null:!t.text),[J]:{icon_button:t.children?!1:C(),copied:r(e),failed:r(l),color_c:r(l)}}));var k=j(d);{var S=a=>{var i=m(),_=b(i);D(_,()=>t.children,()=>r(e),()=>r(l)),n(a,i)},z=a=>{var i=m(),_=b(i);{var A=o=>{var s=K();g(1,s,()=>F,()=>({duration:200})),n(o,s)},I=o=>{var s=M();g(1,s,()=>G),n(o,s)};p(_,o=>{r(e)?o(A):o(I,!1)},!0)}n(a,i)};p(k,a=>{t.children?a(S):a(z,!1)})}q(d),n(h,d),B()}export{W as C};
