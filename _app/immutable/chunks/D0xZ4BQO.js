import"./DsnmJJEf.js";import{p as S,e as U,a as j,x as c,L as w,b as _,c as q,z as s,_ as N,f as P,d as u,r as m,t as C,s as O,n as A,h as H}from"./-CpFIzHZ.js";import{s as J,d as K}from"./DzZ7Rzvg.js";import{i as B}from"./DH5XRg4H.js";import{a as G}from"./trDA34-_.js";import{b as Q}from"./DUXOEpA9.js";import{b as R}from"./BiJ5jRlW.js";import{p as V}from"./Rk-Dv8br.js";import{s as F}from"./V2q5a4YM.js";import{t as I,a as W,b as X,s as Y}from"./D7AV01aJ.js";import{E as Z}from"./C2aFThjG.js";import{D as L}from"./CH9V2Gy3.js";import{f as $}from"./CjAsNweL.js";var tt=P("<input/>"),at=P('<span><span class="ellipsis"> </span></span>');function bt(b,r){S(r,!0);let v=V(r,"value",15),i=w(!1),n=w(""),h=w(void 0),l=w(void 0);const o=async()=>{const e=c(n).trim();if(!e){s(i,!1);return}v(e),s(i,!1),await p()},f=async()=>{s(i,!1),s(n,""),await p()},d=async()=>{s(i,!0),s(n,v(),!0),await N().then(()=>c(h)?.select())},p=()=>N().then(()=>c(l)?.focus());var E={save:o,cancel:f,edit:d},k=U(),y=j(k);{var M=e=>{var t=tt(),T=async a=>{const{key:g}=a;g==="Enter"||g==="F2"?(F(a),await o()):g==="Escape"&&(F(a),await f())};G(t,()=>({type:"text",...r.attrs,...r.input_attrs,onblur:o,onkeydown:T}),void 0,void 0,void 0,"svelte-o5vt6k",!0),R(t,a=>s(h,a),()=>c(h)),Q(t,()=>c(n),a=>s(n,a)),_(e,t)},z=e=>{var t=at(),T=async x=>{const{key:D}=x;(D==="Enter"||D===" "||D==="F2")&&(F(x),await d())};G(t,()=>({role:"button",tabindex:"0","aria-label":"click to edit",...r.attrs,...r.span_attrs,onclick:d,onkeydown:T}),void 0,void 0,void 0,"svelte-o5vt6k");var a=u(t),g=u(a,!0);m(a),m(t),R(t,x=>s(l,x),()=>c(l)),C(()=>J(g,v())),_(e,t)};B(y,e=>{c(i)?e(M):e(z,!1)})}return _(b,k),q(E)}function et(b){return-.5*(Math.cos(Math.PI*b)-1)}var st=P(`<div class="pt_lg"><div><aside><p>⚠️ This is an early prototype and your prompts are not saved yet, they are gone when you
					refresh the page. Soon the Node backend will persist data to a Postgres or pglite
					database. (<!>)</p> <button type="button" class="compact">ok</button></aside></div></div>`);function ht(b,r){S(r,!0);const v=$.get();var i=U(),n=j(i);{var h=l=>{var o=st(),f=u(o),d=u(f),p=u(d),E=O(u(p));Z(E,{href:"https://github.com/fuzdev/zzz/issues/7",children:(y,M)=>{A();var z=H("issue 7");_(y,z)},$$slots:{default:!0}}),A(),m(p);var k=O(p,2);k.__click=()=>{v.ui.tutorial_for_database=!1},m(d),m(f),m(o),I(2,d,()=>W,()=>({duration:L,easing:y=>et(y/3)})),I(2,f,()=>X,()=>({duration:L})),I(2,o,()=>Y,()=>({delay:L})),_(l,o)};B(n,l=>{v.ui.tutorial_for_database&&l(h)})}_(b,i),q()}K(["click"]);export{bt as E,ht as T};
