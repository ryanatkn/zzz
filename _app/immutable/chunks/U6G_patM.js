import"./DsnmJJEf.js";import{p as Oe,f as _,a as x,s as t,d as a,r as o,b as r,e as S,n as A,t as b,c as Ee,a2 as Ge}from"./-CpFIzHZ.js";import{a as He,s as u,d as Ye}from"./DzZ7Rzvg.js";import{i as c}from"./DH5XRg4H.js";import{b as Ce}from"./trDA34-_.js";import{P as Me}from"./DNrAa8_K.js";import{D as ee}from"./Dd8dKzv8.js";import{i as H,j as je,k as ae,l as Ae,m as Ne,n as Re,o as oe}from"./CIQxfFOX.js";import{C as Se}from"./BYwzef9o.js";import{M as Te}from"./DN4aWqQ0.js";import{M as qe}from"./_rBCeTRV.js";import{f as Fe}from"./DHmKwG-o.js";import{f as We}from"./DM4ztRtC.js";var Be=_('<button type="button" class="icon_button plain" title="close"><!></button>'),Ie=_('<header class="display_flex justify_content_space_between mb_md"><div class="display_flex flex_direction_column gap_xs"><h3 class="mt_0 mb_0 font_family_mono"><!></h3></div> <!></header>'),Je=_('<button type="button" class="color_c icon_button" title="confirm delete"><!></button>'),Ke=_("<!>&nbsp; delete model",1),Qe=_('<button type="button" class="plain"><!>&nbsp; create a new chat</button> <button type="button" class="plain" title="load model details"><!>&nbsp; reload details</button> <button type="button" class="plain" title="unload model from memory"><!>&nbsp; unload</button> <!>',1),Ue=_('<button type="button" class="color_a" title="download this model"><!>&nbsp; download model</button>'),Ve=_('<section class="panel p_md"><p class="color_d font_size_sm mt_0 mb_0">not downloaded</p></section>'),Xe=_('<section class="display_flex gap_sm align_items_center"><!> <span class="font_size_sm">loading model details...</span></section>'),Ze=_('<section class="display_flex flex_direction_column gap_sm"><div class="color_c font_size_sm"> </div> <button type="button" class="color_c icon_button plain" title="retry loading details"><!></button></section>'),$e=_('<h5 class="my_0">filesize:</h5> <span class="font_family_mono"> </span>',1),ea=_('<h5 class="my_0">modified:</h5> <span class="font_family_mono"> </span>',1),aa=_('<h5 class="my_0">parent:</h5> <span class="font_family_mono"> </span>',1),oa=_('<div class="display_grid gap_sm"><h5 class="my_0">capabilities:</h5> <span class="font_family_mono"> </span> <h5 class="my_0">parameters:</h5> <span class="font_family_mono"> </span> <!> <!> <h5 class="my_0">family:</h5> <span class="font_family_mono"> </span> <h5 class="my_0">quantization:</h5> <span class="font_family_mono"> </span> <h5 class="my_0">format:</h5> <span class="font_family_mono"> </span> <!></div>'),ta=_("<div><h5>model info:</h5> <pre><code> </code></pre></div>"),la=_("<div><h5>template:</h5> <pre><code> </code></pre></div>"),ra=_("<div><h5>parameters:</h5> <pre><code> </code></pre></div>"),sa=_("<div><h5>system:</h5> <pre><code> </code></pre></div>"),_a=_('<h5 class="display_inline">license:</h5>'),na=_("<pre><code> </code></pre>"),da=_('<h5 class="display_inline">modelfile:</h5>'),ma=_("<pre><code> </code></pre>"),ia=_('<section class="display_flex flex_direction_column gap_md"><!> <!> <!> <!> <!> <!> <!></section>'),va=_('<!> <section class="display_flex gap_sm mb_xl3"><!></section> <!>',1);function Da(te,e){Oe(e,!0),Te(te,{get model(){return e.model},children:(le,ca)=>{var I=va(),J=x(I);{var re=d=>{var m=S(),h=x(m);He(h,()=>e.header),r(d,m)},se=d=>{var m=Ie(),h=a(m),C=a(h),k=a(C);qe(k,{get model(){return e.model},icon:!0}),o(C),o(h);var g=t(h,2);{var y=P=>{var O=Be();O.__click=()=>e.onclose(e.model);var N=a(O);H(N,{get glyph(){return Re}}),o(O),r(P,O)};c(g,P=>{e.onclose&&P(y)})}o(m),r(d,m)};c(J,d=>{e.header?d(re):d(se,!1)})}var T=t(J,2),_e=a(T);{var ne=d=>{var m=Qe(),h=x(m);h.__click=()=>e.model.app.chats.add(void 0,!0).add_thread(e.model);var C=a(h);H(C,{get glyph(){return je}}),A(),o(h);var k=t(h,2);k.__click=()=>e.onshow(e.model);var g=a(k);H(g,{get glyph(){return ae}}),A(),o(k);var y=t(k,2);y.__click=()=>e.model.app.ollama.unload(e.model.name);var P=a(y);H(P,{get glyph(){return Ae}}),A(),o(y);var O=t(y,2);{var N=w=>{Se(w,{onconfirm:()=>e.ondelete(e.model),position:"right",class:"plain color_c",get title(){return`delete ${e.model.name??""}`},popover_content:(L,M=Ge)=>{var f=Je();f.__click=()=>{e.ondelete(e.model),M().hide()};var z=a(f);H(z,{get glyph(){return oe}}),o(f),r(L,f)},children:(L,M)=>{var f=Ke(),z=x(f);H(z,{get glyph(){return oe}}),A(),r(L,f)},$$slots:{popover_content:!0,default:!0}})};c(O,w=>{e.ondelete&&w(N)})}b(()=>{k.disabled=e.model.needs_ollama_details||!e.model.ollama_show_response_loaded||e.model.ollama_show_response_loading,y.disabled=!e.model.loaded}),r(d,m)},de=d=>{var m=Ue();m.__click=()=>e.model.navigate_to_download();var h=a(m);H(h,{get glyph(){return Ne}}),A(),o(m),r(d,m)};c(_e,d=>{e.model.downloaded?d(ne):d(de,!1)})}o(T);var me=t(T,2);{var ie=d=>{var m=Ve();r(d,m)},ve=d=>{var m=S(),h=x(m);{var C=g=>{var y=Xe(),P=a(y);Me(P,{}),A(2),o(y),r(g,y)},k=g=>{var y=S(),P=x(y);{var O=w=>{var Y=Ze(),L=a(Y),M=a(L);o(L);var f=t(L,2);f.__click=()=>e.onshow(e.model);var z=a(f);H(z,{get glyph(){return ae}}),o(f),o(Y),b(()=>u(M,`failed to load details: ${e.model.ollama_show_response_error??""}`)),r(w,Y)},N=w=>{var Y=S(),L=x(Y);{var M=f=>{var z=ia(),K=a(z);{var ce=l=>{var n=oa();Ce(n,"",{},{"grid-template-columns":"auto 1fr"});var s=t(a(n),2),i=a(s,!0);o(s);var v=t(s,4),D=a(v,!0);o(v);var j=t(v,2);{var we=p=>{var E=$e(),G=t(x(E),2),R=a(G,!0);o(G),b(B=>u(R,B),[()=>We(e.model.filesize)]),r(p,E)};c(j,p=>{e.model.filesize&&p(we)})}var $=t(j,2);{var xe=p=>{var E=ea(),G=t(x(E),2),R=a(G,!0);o(G),b(B=>u(R,B),[()=>Fe(e.model.ollama_modified_at)]),r(p,E)};c($,p=>{e.model.ollama_modified_at&&p(xe)})}var q=t($,4),ke=a(q,!0);o(q);var F=t(q,4),Pe=a(F,!0);o(F);var W=t(F,4),Le=a(W,!0);o(W);var ze=t(W,2);{var De=p=>{var E=aa(),G=t(x(E),2),R=a(G,!0);o(G),b(()=>u(R,e.model.ollama_show_response.details.parent_model)),r(p,E)};c(ze,p=>{e.model.ollama_show_response.details.parent_model&&p(De)})}o(n),b(p=>{u(i,p),u(D,e.model.ollama_show_response.details.parameter_size),u(ke,e.model.ollama_show_response.details.family),u(Pe,e.model.ollama_show_response.details.quantization_level),u(Le,e.model.ollama_show_response.details.format)},[()=>e.model.ollama_show_response.capabilities?.join(", ")||"none"]),r(l,n)};c(K,l=>{e.model.ollama_show_response.details&&l(ce)})}var Q=t(K,2);{var fe=l=>{var n=ta(),s=t(a(n),2),i=a(s),v=a(i,!0);o(i),o(s),o(n),b(D=>u(v,D),[()=>JSON.stringify(e.model.ollama_show_response.model_info,null,"	")]),r(l,n)};c(Q,l=>{e.model.ollama_show_response.model_info&&Object.keys(e.model.ollama_show_response.model_info).length>0&&l(fe)})}var U=t(Q,2);{var ue=l=>{var n=la(),s=t(a(n),2),i=a(s),v=a(i,!0);o(i),o(s),o(n),b(()=>u(v,e.model.ollama_show_response.template)),r(l,n)};c(U,l=>{e.model.ollama_show_response.template&&l(ue)})}var V=t(U,2);{var he=l=>{var n=ra(),s=t(a(n),2),i=a(s),v=a(i,!0);o(i),o(s),o(n),b(()=>u(v,e.model.ollama_show_response.parameters)),r(l,n)};c(V,l=>{e.model.ollama_show_response.parameters&&l(he)})}var X=t(V,2);{var ye=l=>{var n=sa(),s=t(a(n),2),i=a(s),v=a(i,!0);o(i),o(s),o(n),b(()=>u(v,e.model.ollama_show_response.system)),r(l,n)};c(X,l=>{e.model.ollama_show_response.system&&l(ye)})}var Z=t(X,2);{var pe=l=>{ee(l,{class:"mt_xl3",summary:s=>{var i=_a();r(s,i)},children:(s,i)=>{var v=na(),D=a(v),j=a(D,!0);o(D),o(v),b(()=>u(j,e.model.ollama_show_response.license)),r(s,v)},$$slots:{summary:!0,default:!0}})};c(Z,l=>{e.model.ollama_show_response.license&&l(pe)})}var be=t(Z,2);{var ge=l=>{ee(l,{class:"mt_xl3",summary:s=>{var i=da();r(s,i)},children:(s,i)=>{var v=ma(),D=a(v),j=a(D,!0);o(D),o(v),b(()=>u(j,e.model.ollama_show_response.modelfile)),r(s,v)},$$slots:{summary:!0,default:!0}})};c(be,l=>{e.model.ollama_show_response.modelfile&&l(ge)})}o(z),r(f,z)};c(L,f=>{e.model.ollama_show_response&&f(M)},!0)}r(w,Y)};c(P,w=>{e.model.ollama_show_response_error?w(O):w(N,!1)},!0)}r(g,y)};c(h,g=>{e.model.ollama_show_response_loading?g(C):g(k,!1)},!0)}r(d,m)};c(me,d=>{e.model.downloaded?d(ve,!1):d(ie)})}r(le,I)},$$slots:{default:!0}}),Ee()}Ye(["click"]);export{Da as O};
