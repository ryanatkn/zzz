import"./DsnmJJEf.js";import{p as K,e as k,a as z,b as _,c as N,u as ee,x as a,L as D,z as w,f as H,d as v,r as u,s as F,n as te,t as B,a2 as ae,y as Z}from"./-CpFIzHZ.js";import{a as T,e as se,s as V}from"./DzZ7Rzvg.js";import{e as ne}from"./DRD7gcUd.js";import{f as oe,a as re,b as W,c as ie,s as le}from"./trDA34-_.js";import{p as I,s as ce,r as me}from"./Rk-Dv8br.js";import{a as de,c as ve,b as X}from"./CQmqYds_.js";import{i as J}from"./DH5XRg4H.js";import{b as ue}from"./BiJ5jRlW.js";import{s as _e}from"./V2q5a4YM.js";import{C as fe}from"./DNrAa8_K.js";import{i as he,y as pe}from"./CIQxfFOX.js";import{t as xe}from"./DHmKwG-o.js";function Oe(y,e){K(e,!0);const f=I(e,"tag",3,"span");var i=k(),p=z(i);ne(p,f,!1,(s,n)=>{oe(s,()=>de(e.entries)),re(s,()=>({class:"display_contents",...e.attrs}));var g=k(),l=z(g);T(l,()=>e.children),_(n,g)}),_(y,i),N()}var be=H('<menu class="pane unstyled svelte-uqelcf"><!></menu>'),we=H('<li role="none" class="svelte-uqelcf"><div role="menuitem" aria-label="contextmenu submenmu" aria-haspopup="menu" tabindex="-1"><div class="content"><div class="icon"><!></div> <div class="title"><!></div></div> <div class="chevron svelte-uqelcf" aria-hidden="true"></div></div> <!></li>');function Re(y,e){K(e,!0);const f=ve.get(),i=f.add_submenu(),{layout:p}=f,s=Z(()=>i.selected);let n=D(void 0);const g=X.get(),l=X.set();let t=D(0),E=D(0);ee(()=>{a(n)&&G(a(n),p,g)});const G=(h,d,b)=>{const{x:R,y:S,width:P,height:Q}=h.getBoundingClientRect();l.width=P,l.height=Q;const U=R-a(t),$=S-a(E),j=U+P+b.width-d.width;if(j<=0)w(t,b.width,!0);else{const A=P-U;A<=0?w(t,-P):A>j?w(t,b.width-j):w(t,A-P)}w(E,Math.min(0,d.height-($+Q)),!0)};var x=we();let L;var c=v(x);let o;var r=v(c),m=v(r),M=v(m);T(M,()=>e.icon??ae),u(m);var Y=F(m,2),C=v(Y);T(C,()=>e.children),u(Y),u(r),te(2),u(c);var q=F(c,2);{var O=h=>{var d=be();let b;var R=v(d);T(R,()=>e.menu),u(d),ue(d,S=>w(n,S),()=>a(n)),B(()=>b=W(d,"",b,{transform:`translate3d(${a(t)??""}px, ${a(E)??""}px, 0)`,"max-height":`${p.height??""}px`})),_(h,d)};J(q,h=>{a(s)&&h(O)})}u(x),B(()=>{L=W(x,"",L,{"--contextmenu_depth":i.depth}),o=ie(c,1,"menu_item plain selectable svelte-uqelcf",null,o,{selected:a(s)}),le(c,"aria-expanded",a(s))}),se("mouseenter",c,h=>{_e(h),setTimeout(()=>f.select(i))}),_(y,x),N()}var ye=H('<small class="ml_xs"> </small>'),ge=H("<span> <!></span>");function Se(y,e){K(e,!0);const f=I(e,"label",3,"copy"),i=I(e,"show_preview",3,!0),p=me(e,["$$slots","$$events","$$legacy","content","label","preview","preview_limit","show_preview","children"]),s=()=>typeof e.content=="function"?e.content():e.content,n=Z(()=>i()?xe(e.preview??s(),e.preview_limit):void 0);fe(y,ce({run:async()=>{const l=s();if(l)try{await navigator.clipboard.writeText(l)}catch(t){console.error("failed to copy text: ",t)}}},()=>p,{icon:t=>{he(t,{get glyph(){return pe}})},children:(t,E)=>{var G=k(),x=z(G);{var L=o=>{var r=k(),m=z(r);T(m,()=>e.children),_(o,r)},c=o=>{var r=ge(),m=v(r),M=F(m);{var Y=C=>{var q=ye(),O=v(q,!0);u(q),B(()=>V(O,a(n))),_(C,q)};J(M,C=>{a(n)&&C(Y)})}u(r),B(()=>V(m,`${f()??""} `)),_(o,r)};J(x,o=>{e.children?o(L):o(c,!1)})}_(t,G)},$$slots:{icon:!0,default:!0}})),N()}export{Oe as C,Re as a,Se as b};
