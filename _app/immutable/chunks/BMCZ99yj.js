import"./DsnmJJEf.js";import{K as ie,x,y as U,B as z,ao as oe,_ as le,N as ce,ap as de,F as _e,J as ve,M as me,a2 as W,G as X,z as fe,Q as ue,a3 as he,aq as pe,e as F,a as R,b,p as ae,u as xe,i as r,k as D,l as N,f as B,d as g,r as y,s as H,n as ge,t as q,j as se,c as ne,m as ye}from"./DsYFF3e0.js";import{i as be,g as Z,a as G,e as we,s as $}from"./D6t6EFf3.js";import{a as Ce,b as Ee,c as Te,d as ee,C as Ne}from"./4X2iJCGk.js";import{k as Pe,s as te,t as Se,q as ke,h as Ae,K as Ge}from"./dRtQjgBD.js";import{p as J,i as Q,s as Me,r as Fe}from"./Nwe5dM3j.js";import{b as Re}from"./BwYh6stK.js";import{s as qe}from"./BlUH4YWX.js";import{t as Be}from"./z7712QSE.js";function Ke(w,t,h,i,C,c){let o=x;x&&U();var d,s,e=null;x&&z.nodeType===oe&&(e=z,U());var v=x?z:w,l;ie(()=>{const a=t()||null;var E=a==="svg"?de:null;a!==d&&(l&&(a===null?ue(l,()=>{l=null,s=null}):a===s?he(l):(pe(l),Z(!1))),a&&a!==s&&(l=ce(()=>{if(e=x?e:E?document.createElementNS(E,a):document.createElement(a),_e(e,e),i){x&&be(a)&&e.append(document.createComment(""));var n=x?ve(e):e.appendChild(me());x&&(n===null?W(!1):X(n)),i(e,n)}fe.nodes_end=e,v.before(e)})),d=a,d&&(s=d),Z(!0))},le),o&&(W(!0),X(v))}function Xe(w,t){const h=J(t,"tag",3,"span");var i=F(),C=R(i);Ke(C,h,!1,(c,o)=>{Ce(c,(e,v)=>Ee?.(e,v),()=>t.entries),Pe(c,()=>({class:"display_contents",...t.attrs}));var d=F(),s=R(d);G(s,()=>t.children),b(o,d)}),b(w,i)}var Le=B('<menu class="pane unstyled svelte-rx796d"><!></menu>'),Oe=B('<li role="none" class="svelte-rx796d"><div role="menuitem" aria-label="contextmenu submenmu" tabindex="-1"><div class="content"><div class="icon"><!></div> <div class="title"><!></div></div> <div class="chevron svelte-rx796d" aria-hidden="true"></div></div> <!></li>');function Ze(w,t){ae(t,!0);const h=Te.get(),i=h.add_submenu(),{layout:C}=h,c=se(()=>i.selected);let o=D(void 0);const d=ee.get(),s=ee.set();let e=D(0),v=D(0);xe(()=>{r(o)&&l(r(o),C,d)});const l=(u,_,T)=>{const{x:O,y:k,width:A,height:V}=u.getBoundingClientRect();s.width=A,s.height=V;const I=O-r(e),re=k-r(v),Y=I+A+T.width-_.width;if(Y<=0)N(e,T.width,!0);else{const j=A-I;j<=0?N(e,-A):j>Y?N(e,T.width-Y):N(e,j-A)}N(v,Math.min(0,_.height-(re+V)),!0)};var a=Oe();let E;var n=g(a);let m;var f=g(n),p=g(f),K=g(p);G(K,()=>t.icon??ye),y(p);var M=H(p,2),P=g(M);G(P,()=>t.children),y(M),y(f),ge(2),y(n);var S=H(n,2);{var L=u=>{var _=Le();let T;var O=g(_);G(O,()=>t.menu),y(_),Re(_,k=>N(o,k),()=>r(o)),q(k=>T=te(_,"",T,k),[()=>({transform:`translate3d(${r(e)??""}px, ${r(v)??""}px, 0)`,"max-height":`${C.height??""}px`})]),b(u,_)};Q(S,u=>{r(c)&&u(L)})}y(a),q((u,_)=>{E=te(a,"",E,u),m=Se(n,1,"menu_item plain selectable svelte-rx796d",null,m,_),ke(n,"aria-expanded",r(c))},[()=>({"--contextmenu_depth":i.depth}),()=>({selected:r(c)})]),we("mouseenter",n,u=>{qe(u),setTimeout(()=>h.select(i))}),b(w,a),ne()}var Ye=B('<small class="ml_xs"> </small>'),je=B("<span> <!></span>");function $e(w,t){ae(t,!0);const h=J(t,"label",3,"copy"),i=J(t,"show_preview",3,!0),C=Fe(t,["$$slots","$$events","$$legacy","content","label","preview","preview_limit","show_preview","children"]),c=()=>typeof t.content=="function"?t.content():t.content,o=se(()=>i()?Be(t.preview??c(),t.preview_limit):void 0);Ne(w,Me({run:async()=>{const s=c();if(s)try{await navigator.clipboard.writeText(s)}catch(e){console.error("failed to copy text: ",e)}}},()=>C,{icon:e=>{Ae(e,{get glyph(){return Ge}})},children:(e,v)=>{var l=F(),a=R(l);{var E=m=>{var f=F(),p=R(f);G(p,()=>t.children),b(m,f)},n=m=>{var f=je(),p=g(f),K=H(p);{var M=P=>{var S=Ye(),L=g(S,!0);y(S),q(()=>$(L,r(o))),b(P,S)};Q(K,P=>{r(o)&&P(M)})}y(f),q(()=>$(p,`${h()??""} `)),b(m,f)};Q(a,m=>{t.children?m(E):m(n,!1)})}b(e,l)},$$slots:{icon:!0,default:!0}})),ne()}export{Xe as C,Ze as a,$e as b};
