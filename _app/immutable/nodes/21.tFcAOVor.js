import"../chunks/DsnmJJEf.js";import{p as Ba,f as c,b as p,c as Ca,s as o,d as e,x as a,y as ea,r as t,t as x,a5 as Ea,e as Ga,a as Ha}from"../chunks/-CpFIzHZ.js";import{d as Ia,s as u}from"../chunks/DzZ7Rzvg.js";import{i as k}from"../chunks/DH5XRg4H.js";import{s as j,r as Ja,e as J,c as Ka}from"../chunks/trDA34-_.js";import{b as sa}from"../chunks/DUXOEpA9.js";import{r as y}from"../chunks/ywPCv6Ru.js";import{p as Ma}from"../chunks/BFmYjkmx.js";import{P as Oa}from"../chunks/DuCWVvi3.js";import{S as Qa,P as Ra}from"../chunks/BAlR-gOI.js";var Ta=c('<div class="display_flex gap_sm mb_sm"><button type="button" class="color_a">save</button> <button type="button" class="plain">cancel</button></div>'),Ua=c('<button type="button" class="plain">edit</button>'),Va=c('<div class="panel p_md width_upto_md mb_lg"><div class="mb_md"><label>project name <input type="text" class="width_100"/></label></div> <div><label>description <textarea class="width_100" rows="3"></textarea></label></div></div>'),Wa=c('<p class="mb_lg width_upto_md"> </p>'),Xa=c('<p class="text_color_5">no pages created yet</p>'),Ya=c('<li class="svelte-136fk71"><a> </a> <span class="text_color_5"> </span></li>'),Za=c('<ul class="pages_list svelte-136fk71"></ul>'),at=c('<p class="text_color_5">no domains configured yet</p>'),tt=c('<span class="ssl_badge svelte-136fk71">SSL</span>'),et=c('<li class="svelte-136fk71"><a><span class="domain_name svelte-136fk71"> </span></a> <div class="domain_details svelte-136fk71"><span> </span> <!></div></li>'),st=c('<ul class="domains_list svelte-136fk71"></ul>'),rt=c('<p class="text_color_5">no repos configured yet</p>'),vt=c('<li class="svelte-136fk71"><a><span class="repo_url svelte-136fk71"> </span></a> <div class="repo_details svelte-136fk71"><span class="checkout_badge svelte-136fk71"> </span></div></li>'),ot=c('<ul class="repos_list svelte-136fk71"></ul>'),_t=c('<div class="p_lg"><h1 class="mb_0"> </h1> <div><!></div> <!> <div class="display_flex gap_md mb_lg"><span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span></div> <div class="projects_grid svelte-136fk71"><div class="panel p_md"><h2 class="mt_0 mb_lg"><a>pages</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add page</button></div></div> <div class="panel p_md"><h2 class="mt_0 mb_lg"><a>domains</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add domain</button></div></div> <div class="panel p_md"><h2 class="mt_0 mb_lg"><a>repos</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add repo</button></div></div></div></div>'),it=c('<div class="project_layout svelte-136fk71"><!> <!> <div class="project_content svelte-136fk71"><!></div></div>');function ht(ra,va){Ba(va,!0);const K=Ma.get(),n=ea(()=>K.current_project_viewmodel),v=ea(()=>K.current_project);var S=it(),M=e(S);Oa(M,{});var O=o(M,2);{var oa=g=>{Qa(g,{get project(){return a(v)},section:"project"})};k(O,g=>{a(v)&&g(oa)})}var Q=o(O,2),_a=e(Q);{var ia=g=>{var $=_t(),D=e($),da=e(D,!0);t(D);var P=o(D,2),pa=e(P);{var ca=s=>{var r=Ta(),i=e(r);i.__click=()=>a(n).save_project_details();var _=o(i,2);_.__click=()=>{a(n).editing_project=!1,a(n).reset_form()},t(r),x(()=>i.disabled=!a(n).has_changes),p(s,r)},na=s=>{var r=Ua();r.__click=()=>a(n).editing_project=!0,p(s,r)};k(pa,s=>{a(n).editing_project?s(ca):s(na,!1)})}t(P);var R=o(P,2);{var ua=s=>{var r=Va(),i=e(r),_=e(i),d=o(e(_));Ja(d),t(_),t(i);var l=o(i,2),m=e(l),b=o(e(m));Ea(b),t(m),t(l),t(r),sa(d,()=>a(n).edited_name,f=>a(n).edited_name=f),sa(b,()=>a(n).edited_description,f=>a(n).edited_description=f),p(s,r)},ma=s=>{var r=Ga(),i=Ha(r);{var _=d=>{var l=Wa(),m=e(l,!0);t(l),x(()=>u(m,a(v).description)),p(d,l)};k(i,d=>{a(v).description&&d(_)},!0)}p(s,r)};k(R,s=>{a(n).editing_project?s(ua):s(ma,!1)})}var L=o(R,2),F=e(L),fa=e(F);t(F);var N=o(F,2),ga=e(N);t(N);var q=o(N,2),ba=e(q);t(q);var z=o(q,2),ha=e(z);t(z);var T=o(z,2),ka=e(T);t(T),t(L);var U=o(L,2),A=e(U),B=e(A),xa=e(B);t(B);var V=o(B,2);{var ja=s=>{var r=Xa();p(s,r)},ya=s=>{var r=Za();J(r,21,()=>a(v).pages,i=>i.id,(i,_)=>{var d=Ya(),l=e(d),m=e(l,!0);t(l);var b=o(l,2),f=e(b,!0);t(b),t(d),x(h=>{j(l,"href",h),u(m,a(_).title),u(f,a(_).path)},[()=>y(`/projects/${a(v).id}/pages/${a(_).id}`)]),p(i,d)}),t(r),p(s,r)};k(V,s=>{a(v).pages.length===0?s(ja):s(ya,!1)})}var W=o(V,2),wa=e(W);wa.__click=()=>a(n).create_new_page(),t(W),t(A);var C=o(A,2),E=e(C),Sa=e(E);t(E);var X=o(E,2);{var $a=s=>{var r=at();p(s,r)},Da=s=>{var r=st();J(r,21,()=>a(v).domains,i=>i.id,(i,_)=>{var d=et(),l=e(d),m=e(l),b=e(m,!0);t(m),t(l);var f=o(l,2),h=e(f),H=e(h,!0);t(h);var I=o(h,2);{var za=w=>{var Aa=tt();p(w,Aa)};k(I,w=>{a(_).ssl&&w(za)})}t(f),t(d),x(w=>{j(l,"href",w),u(b,a(_).name),Ka(h,1,`status_badge ${a(_).status==="active"?"status_active":a(_).status==="pending"?"status_pending":"status_inactive"}`,"svelte-136fk71"),u(H,a(_).status)},[()=>y(`/projects/${a(v).id}/domains/${a(_).id}`)]),p(i,d)}),t(r),p(s,r)};k(X,s=>{a(v).domains.length===0?s($a):s(Da,!1)})}var Y=o(X,2),Pa=e(Y);Pa.__click=()=>a(n).create_new_domain(),t(Y),t(C);var Z=o(C,2),G=e(Z),La=e(G);t(G);var aa=o(G,2);{var Fa=s=>{var r=rt();p(s,r)},Na=s=>{var r=ot();J(r,21,()=>a(v).repos,i=>i.id,(i,_)=>{var d=vt(),l=e(d),m=e(l),b=e(m,!0);t(m),t(l);var f=o(l,2),h=e(f),H=e(h);t(h),t(f),t(d),x(I=>{j(l,"href",I),u(b,a(_).git_url||"[new repo]"),u(H,`${a(_).checkouts.length??""}
												checkout dir${a(_).checkouts.length===1?"":"s"}`)},[()=>y(`/projects/${a(v).id}/repos/${a(_).id}`)]),p(i,d)}),t(r),p(s,r)};k(aa,s=>{a(v).repos.length===0?s(Fa):s(Na,!1)})}var ta=o(aa,2),qa=e(ta);qa.__click=()=>a(n).create_new_repo(),t(ta),t(Z),t(U),t($),x((s,r,i,_,d)=>{u(da,a(v).name),u(fa,`${a(v).pages.length??""}
						${a(v).pages.length===1?"page":"pages"}`),u(ga,`${a(v).domains.length??""}
						${a(v).domains.length===1?"domain":"domains"}`),u(ba,`${a(v).repos.length??""}
						${a(v).repos.length===1?"repo":"repos"}`),u(ha,`created ${s??""}`),u(ka,`updated ${r??""}`),j(xa,"href",i),j(Sa,"href",_),j(La,"href",d)},[()=>new Date(a(v).created).toLocaleDateString(),()=>new Date(a(v).updated).toLocaleDateString(),()=>y(`/projects/${a(v).id}/pages`),()=>y(`/projects/${a(v).id}/domains`),()=>y(`/projects/${a(v).id}/repos`)]),p(g,$)},la=g=>{Ra(g,{})};k(_a,g=>{a(v)&&a(n)?g(ia):g(la,!1)})}t(Q),t(S),p(ra,S),Ca()}Ia(["click"]);export{ht as component};
