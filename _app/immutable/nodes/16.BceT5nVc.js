import"../chunks/DsnmJJEf.js";import{p as Aa,f as p,b as d,c as Ba,s as v,d as e,i as a,j as ra,r as t,t as y,Y as Ca,e as Ea,a as Ga}from"../chunks/DsYFF3e0.js";import{d as Ha,s as m}from"../chunks/D6t6EFf3.js";import{i as x}from"../chunks/Nwe5dM3j.js";import{q as w,r as Ia,j as K,t as Ja}from"../chunks/dRtQjgBD.js";import{b as _a}from"../chunks/CNYcfd7V.js";import{r as S}from"../chunks/23rF6zAW.js";import{p as Ka}from"../chunks/DIGNT4MO.js";import{P as Ma}from"../chunks/BtxUrzYi.js";import{S as Oa,P as Qa}from"../chunks/Blbnp0Me.js";var Ra=(j,n)=>a(n).save_project_details(),Ta=(j,n)=>{a(n).editing_project=!1,a(n).reset_form()},Ua=p('<div class="display_flex gap_sm mb_sm"><button type="button" class="color_a">save</button> <button type="button" class="plain">cancel</button></div>'),Va=(j,n)=>a(n).editing_project=!0,Wa=p('<button type="button" class="plain">edit</button>'),Xa=p('<div class="panel p_md width_upto_md mb_lg"><div class="mb_md"><label>project name <input type="text" class="width_100"/></label></div> <div><label>description <textarea class="width_100" rows="3"></textarea></label></div></div>'),Za=p('<p class="mb_lg width_upto_md"> </p>'),at=p('<p class="text_color_5">no pages created yet</p>'),tt=p('<li class="svelte-136fk71"><a> </a> <span class="text_color_5"> </span></li>'),et=p('<ul class="pages_list svelte-136fk71"></ul>'),st=(j,n)=>a(n).create_new_page(),rt=p('<p class="text_color_5">no domains configured yet</p>'),_t=p('<span class="ssl_badge svelte-136fk71">SSL</span>'),vt=p('<li class="svelte-136fk71"><a><span class="domain_name svelte-136fk71"> </span></a> <div class="domain_details svelte-136fk71"><span> </span> <!></div></li>'),ot=p('<ul class="domains_list svelte-136fk71"></ul>'),it=(j,n)=>a(n).create_new_domain(),lt=p('<p class="text_color_5">no repos configured yet</p>'),ct=p('<li class="svelte-136fk71"><a><span class="repo_url svelte-136fk71"> </span></a> <div class="repo_details svelte-136fk71"><span class="checkout_badge svelte-136fk71"> </span></div></li>'),dt=p('<ul class="repos_list svelte-136fk71"></ul>'),pt=(j,n)=>a(n).create_new_repo(),nt=p('<div class="p_lg"><h1 class="mb_0"> </h1> <div><!></div> <!> <div class="display_flex gap_md mb_lg"><span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span> <span class="chip"> </span></div> <div class="projects_grid svelte-136fk71"><div class="panel p_md"><h2 class="mt_0 mb_lg"><a>pages</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add page</button></div></div> <div class="panel p_md"><h2 class="mt_0 mb_lg"><a>domains</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add domain</button></div></div> <div class="panel p_md"><h2 class="mt_0 mb_lg"><a>repos</a></h2> <!> <div class="mt_md"><button type="button" class="color_a">+ add repo</button></div></div></div></div>'),ut=p('<div class="project_layout svelte-136fk71"><!> <!> <div class="project_content svelte-136fk71"><!></div></div>');function St(j,n){Aa(n,!0);const M=Ka.get(),u=ra(()=>M.current_project_viewmodel),_=ra(()=>M.current_project);var D=ut(),O=e(D);Ma(O,{});var Q=v(O,2);{var va=b=>{Oa(b,{get project(){return a(_)},section:"project"})};x(Q,b=>{a(_)&&b(va)})}var R=v(Q,2),oa=e(R);{var ia=b=>{var P=nt(),L=e(P),ca=e(L,!0);t(L);var q=v(L,2),da=e(q);{var pa=s=>{var r=Ua(),i=e(r);i.__click=[Ra,u];var o=v(i,2);o.__click=[Ta,u],t(r),y(()=>i.disabled=!a(u).has_changes),d(s,r)},na=s=>{var r=Wa();r.__click=[Va,u],d(s,r)};x(da,s=>{a(u).editing_project?s(pa):s(na,!1)})}t(q);var T=v(q,2);{var ua=s=>{var r=Xa(),i=e(r),o=e(i),c=v(e(o));Ia(c),t(o),t(i);var l=v(i,2),f=e(l),h=v(e(f));Ca(h),t(f),t(l),t(r),_a(c,()=>a(u).edited_name,g=>a(u).edited_name=g),_a(h,()=>a(u).edited_description,g=>a(u).edited_description=g),d(s,r)},ma=s=>{var r=Ea(),i=Ga(r);{var o=c=>{var l=Za(),f=e(l,!0);t(l),y(()=>m(f,a(_).description)),d(c,l)};x(i,c=>{a(_).description&&c(o)},!0)}d(s,r)};x(T,s=>{a(u).editing_project?s(ua):s(ma,!1)})}var F=v(T,2),N=e(F),fa=e(N);t(N);var Y=v(N,2),ga=e(Y);t(Y);var z=v(Y,2),ba=e(z);t(z);var A=v(z,2),ha=e(A);t(A);var U=v(A,2),ka=e(U);t(U),t(F);var V=v(F,2),B=e(V),C=e(B),xa=e(C);t(C);var W=v(C,2);{var ja=s=>{var r=at();d(s,r)},ya=s=>{var r=et();K(r,21,()=>a(_).pages,i=>i.id,(i,o)=>{var c=tt(),l=e(c),f=e(l,!0);t(l);var h=v(l,2),g=e(h,!0);t(h),t(c),y(k=>{w(l,"href",k),m(f,a(o).title),m(g,a(o).path)},[()=>S(`/projects/${a(_).id}/pages/${a(o).id}`)]),d(i,c)}),t(r),d(s,r)};x(W,s=>{a(_).pages.length===0?s(ja):s(ya,!1)})}var X=v(W,2),wa=e(X);wa.__click=[st,u],t(X),t(B);var E=v(B,2),G=e(E),Sa=e(G);t(G);var Z=v(G,2);{var $a=s=>{var r=rt();d(s,r)},Da=s=>{var r=ot();K(r,21,()=>a(_).domains,i=>i.id,(i,o)=>{var c=vt(),l=e(c),f=e(l),h=e(f,!0);t(f),t(l);var g=v(l,2),k=e(g),I=e(k,!0);t(k);var J=v(k,2);{var Ya=$=>{var za=_t();d($,za)};x(J,$=>{a(o).ssl&&$(Ya)})}t(g),t(c),y($=>{w(l,"href",$),m(h,a(o).name),Ja(k,1,`status_badge ${a(o).status==="active"?"status_active":a(o).status==="pending"?"status_pending":"status_inactive"}`,"svelte-136fk71"),m(I,a(o).status)},[()=>S(`/projects/${a(_).id}/domains/${a(o).id}`)]),d(i,c)}),t(r),d(s,r)};x(Z,s=>{a(_).domains.length===0?s($a):s(Da,!1)})}var aa=v(Z,2),Pa=e(aa);Pa.__click=[it,u],t(aa),t(E);var ta=v(E,2),H=e(ta),La=e(H);t(H);var ea=v(H,2);{var qa=s=>{var r=lt();d(s,r)},Fa=s=>{var r=dt();K(r,21,()=>a(_).repos,i=>i.id,(i,o)=>{var c=ct(),l=e(c),f=e(l),h=e(f,!0);t(f),t(l);var g=v(l,2),k=e(g),I=e(k);t(k),t(g),t(c),y(J=>{w(l,"href",J),m(h,a(o).git_url||"[new repo]"),m(I,`${a(o).checkouts.length??""}
												checkout dir${a(o).checkouts.length===1?"":"s"}`)},[()=>S(`/projects/${a(_).id}/repos/${a(o).id}`)]),d(i,c)}),t(r),d(s,r)};x(ea,s=>{a(_).repos.length===0?s(qa):s(Fa,!1)})}var sa=v(ea,2),Na=e(sa);Na.__click=[pt,u],t(sa),t(ta),t(V),t(P),y((s,r,i,o,c)=>{m(ca,a(_).name),m(fa,`${a(_).pages.length??""}
						${a(_).pages.length===1?"page":"pages"}`),m(ga,`${a(_).domains.length??""}
						${a(_).domains.length===1?"domain":"domains"}`),m(ba,`${a(_).repos.length??""}
						${a(_).repos.length===1?"repo":"repos"}`),m(ha,`created ${s??""}`),m(ka,`updated ${r??""}`),w(xa,"href",i),w(Sa,"href",o),w(La,"href",c)},[()=>new Date(a(_).created).toLocaleDateString(),()=>new Date(a(_).updated).toLocaleDateString(),()=>S(`/projects/${a(_).id}/pages`),()=>S(`/projects/${a(_).id}/domains`),()=>S(`/projects/${a(_).id}/repos`)]),d(b,P)},la=b=>{Qa(b,{})};x(oa,b=>{a(_)&&a(u)?b(ia):b(la,!1)})}t(R),t(D),d(j,D),Ba()}Ha(["click"]);export{St as component};
