import"../chunks/DsnmJJEf.js";import{p as Y,f as m,d as e,r as t,s as a,t as C,b as u,c as q,x as d,y as F,a as E,n as H}from"../chunks/-CpFIzHZ.js";import{s as x,d as I}from"../chunks/DzZ7Rzvg.js";import{i as G}from"../chunks/DH5XRg4H.js";import{s as J,e as K}from"../chunks/trDA34-_.js";import{p as M}from"../chunks/BFmYjkmx.js";import{P as O}from"../chunks/DuCWVvi3.js";import{S as Q,P as U}from"../chunks/BAlR-gOI.js";import{R as V}from"../chunks/Cw31Una_.js";import{i as N,j as T}from"../chunks/CIQxfFOX.js";import{r as W}from"../chunks/ywPCv6Ru.js";var X=m("<tr><td><a> </a></td><td> </td><td> </td><td> </td></tr>");function Z(S,s){Y(s,!0);var v=X(),o=e(v),_=e(o),f=e(_,!0);t(_),t(o);var n=a(o),j=e(n,!0);t(n);var h=a(n),y=e(h,!0);t(h);var w=a(h),k=e(w,!0);t(w),t(v),C((P,r,i)=>{J(_,"href",P),x(f,s.repo.git_url||"[new repo]"),x(j,s.repo.checkouts.length),x(y,r),x(k,i)},[()=>W(`/projects/${s.project_id}/repos/${s.repo.id}`),()=>new Date(s.repo.created).toLocaleString(),()=>new Date(s.repo.updated).toLocaleString()]),u(S,v),q()}var $=m("<!> <!>",1),tt=m('<div class="panel p_lg text_align_center mb_lg"><p>this project has no repositories configured yet</p> <p><button type="button" class="color_a"><!>&nbsp; add your first repo</button></p></div>'),et=m('<table class="width_100"><thead><tr><th>repo</th><th>checkouts</th><th>created</th><th>updated</th></tr></thead><tbody></tbody></table>'),rt=m('<div class="p_lg"><h1 class="mb_lg">repos</h1> <!> <div><button type="button" class="color_a"><!>&nbsp; new repo</button></div></div>'),ot=m('<div class="project_layout svelte-1gra4tf"><!> <!> <div class="project_content svelte-1gra4tf"><!></div></div>');function mt(S,s){Y(s,!0);const v=M.get(),o=F(()=>v.current_project_viewmodel),_=F(()=>v.current_project);var f=ot(),n=e(f);O(n,{});var j=a(n,2);{var h=r=>{var i=$(),b=E(i);Q(b,{get project(){return d(_)},section:"repos"});var D=a(b,2);V(D,{}),u(r,i)};G(j,r=>{d(_)&&r(h)})}var y=a(j,2),w=e(y);{var k=r=>{var i=rt(),b=a(e(i),2);{var D=l=>{var c=tt(),g=a(e(c),2),p=e(g);p.__click=()=>d(o).create_new_repo();var L=e(p);N(L,{get glyph(){return T}}),H(),t(p),t(g),t(c),u(l,c)},z=l=>{var c=et(),g=a(e(c));K(g,21,()=>d(o).project.repos,p=>p.id,(p,L)=>{Z(p,{get repo(){return d(L)},get project_id(){return d(o).project_id}})}),t(g),t(c),u(l,c)};G(b,l=>{d(o).project.repos.length===0?l(D):l(z,!1)})}var A=a(b,2),R=e(A);R.__click=()=>d(o).create_new_repo();var B=e(R);N(B,{get glyph(){return T}}),H(),t(R),t(A),t(i),u(r,i)},P=r=>{U(r,{})};G(w,r=>{d(o)?.project?r(k):r(P,!1)})}t(y),t(f),u(S,f),q()}I(["click"]);export{mt as component};
