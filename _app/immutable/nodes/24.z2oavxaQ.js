import"../chunks/DsnmJJEf.js";import{p as $,f as _,b as i,c as tt,d as e,s as o,x as r,y as N,r as t,a as D,n as Y,t as et}from"../chunks/-CpFIzHZ.js";import{d as rt,s as u}from"../chunks/DzZ7Rzvg.js";import{i as L}from"../chunks/DH5XRg4H.js";import{e as at,s as ot}from"../chunks/trDA34-_.js";import{r as st}from"../chunks/DUsYCsk8.js";import{p as pt}from"../chunks/qzbfxjxi.js";import{P as ct}from"../chunks/D_blZjET.js";import{S as dt,P as vt}from"../chunks/BkfYFCkz.js";import{P as it}from"../chunks/sxUJWNdo.js";import{i as q,j as z}from"../chunks/CIQxfFOX.js";var _t=_("<!> <!>",1),nt=_('<p>this project has no web pages yet</p> <p><button type="button" class="color_a"><!>&nbsp; create your first page</button></p>',1),lt=_("<tr><td><a> </a></td><td> </td><td> </td><td> </td></tr>"),mt=_('<table class="width_100"><thead><tr><th>title</th><th>path</th><th>created</th><th>updated</th></tr></thead><tbody></tbody></table> <div class="mb_lg"><button type="button" class="color_a"><!>&nbsp; new page</button></div>',1),gt=_('<div class="p_lg"><h1 class="mb_lg">pages</h1> <!></div>'),ut=_('<div class="project_layout svelte-nyagl2"><!> <!> <div class="project_content svelte-nyagl2"><!></div></div>');function Lt(B,C){$(C,!0);const f=pt.get(),s=N(()=>f.current_project_viewmodel),E=N(()=>r(s)?.project?.pages.length);var h=ut(),G=e(h);ct(G,{});var A=o(G,2);{var I=a=>{var p=_t(),m=D(p);dt(m,{get project(){return f.current_project},section:"pages"});var b=o(m,2);it(b,{}),i(a,p)};L(A,a=>{f.current_project&&a(I)})}var F=o(A,2),J=e(F);{var K=a=>{var p=gt(),m=o(e(p),2);{var b=c=>{var n=nt(),d=o(D(n),2),v=e(d);v.__click=()=>r(s).create_new_page();var g=e(v);q(g,{get glyph(){return z}}),Y(),t(v),t(d),i(c,n)},O=c=>{var n=mt(),d=D(n),v=o(e(d));at(v,21,()=>r(s).project.pages,y=>y.id,(y,l)=>{var w=lt(),x=e(w),P=e(x),R=e(P,!0);t(P),t(x);var S=o(x),T=e(S,!0);t(S);var k=o(S),U=e(k,!0);t(k);var H=o(k),V=e(H,!0);t(H),t(w),et((W,X,Z)=>{ot(P,"href",W),u(R,r(l).title),u(T,r(l).path),u(U,X),u(V,Z)},[()=>st(`/projects/${r(s).project_id}/pages/${r(l).id}`),()=>new Date(r(l).created).toLocaleString(),()=>new Date(r(l).updated).toLocaleString()]),i(y,w)}),t(v),t(d);var g=o(d,2),j=e(g);j.__click=()=>r(s).create_new_page();var Q=e(j);q(Q,{get glyph(){return z}}),Y(),t(j),t(g),i(c,n)};L(m,c=>{r(E)?c(O,!1):c(b)})}t(p),i(a,p)},M=a=>{vt(a,{})};L(J,a=>{r(s)?.project?a(K):a(M,!1)})}t(F),t(h),i(B,h),tt()}rt(["click"]);export{Lt as component};
